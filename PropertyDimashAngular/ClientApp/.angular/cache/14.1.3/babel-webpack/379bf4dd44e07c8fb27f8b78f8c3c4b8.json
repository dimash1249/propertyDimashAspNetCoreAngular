{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../user/user.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction NavHomeComponent_li_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\", 12);\n    i0.ɵɵtext(2, \"Sign Up\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction NavHomeComponent_li_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\", 13);\n    i0.ɵɵtext(2, \"Log In\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction NavHomeComponent_li_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function NavHomeComponent_li_22_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵtext(2, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class NavHomeComponent {\n  constructor(router, UserService) {\n    this.router = router;\n    this.UserService = UserService;\n    this.isLoggedIn = new BehaviorSubject(false);\n    this.userName = new BehaviorSubject(this.UserName());\n  }\n\n  ngOnInit() {\n    this.isLoggedIn = this.UserService.getLoginStatus;\n    console.log(this.isLoggedIn);\n  }\n\n  loginStatus() {\n    if (localStorage.getItem('IsLoggedIn')) {\n      return true;\n    }\n\n    return false;\n  }\n\n  logout() {\n    this.UserService.logout(); //localStorage.removeItem('token');\n    //localStorage.removeItem('UserName');\n    //localStorage.setItem('IsLoggedIn', \"false\");\n\n    this.router.navigateByUrl('/');\n  }\n\n  getLoginStatus() {\n    return this.isLoggedIn;\n  }\n\n  getUserName() {\n    return this.userName;\n  }\n\n  UserName() {\n    let userNameString = localStorage.getItem('UserName');\n\n    if (localStorage.getItem('UserName') !== null) {\n      return userNameString;\n    } else {\n      return \"\";\n    }\n  }\n\n}\n\nNavHomeComponent.ɵfac = function NavHomeComponent_Factory(t) {\n  return new (t || NavHomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n};\n\nNavHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavHomeComponent,\n  selectors: [[\"app-nav-home\"]],\n  decls: 24,\n  vars: 9,\n  consts: [[1, \"navbar\", \"navbar-expand-sm\", \"navbar-toggleable-sm\", \"navbar-light\", \"bg-white\", \"border-bottom\", \"box-shadow\", \"mb-3\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".navbar-collapse\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [1, \"navbar-collapse\", \"navbar-collapse\", \"d-sm-inline-flex\", \"justify-content-between\"], [1, \"navbar-nav\", \"flew-grow-1\"], [1, \"nav-item\"], [\"routerLink\", \"/properties\", 1, \"nav-link\", \"text-dark\"], [\"routerLink\", \"/residential-complexes/index\", 1, \"nav-link\", \"text-dark\"], [\"routerLink\", \"/news/index\", 1, \"nav-link\", \"text-dark\"], [1, \"navbar-nav\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [\"routerLink\", \"/user/registration\", 1, \"nav-link\", \"text-dark\"], [\"routerLink\", \"/user/login\", 1, \"nav-link\", \"text-dark\"], [1, \"nav-link\", \"text-dark\", 3, \"click\"]],\n  template: function NavHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\")(1, \"nav\", 0)(2, \"a\", 1);\n      i0.ɵɵtext(3, \"PropertyDimash\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵelement(5, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"ul\", 5)(8, \"li\", 6)(9, \"a\", 7);\n      i0.ɵɵtext(10, \"Property and Real estate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"li\", 6)(12, \"a\", 8);\n      i0.ɵɵtext(13, \"ResidentialComplexes\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"li\", 6)(15, \"a\", 9);\n      i0.ɵɵtext(16, \"News and Property\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"ul\", 10);\n      i0.ɵɵtemplate(18, NavHomeComponent_li_18_Template, 3, 0, \"li\", 11);\n      i0.ɵɵpipe(19, \"async\");\n      i0.ɵɵtemplate(20, NavHomeComponent_li_20_Template, 3, 0, \"li\", 11);\n      i0.ɵɵpipe(21, \"async\");\n      i0.ɵɵtemplate(22, NavHomeComponent_li_22_Template, 3, 0, \"li\", 11);\n      i0.ɵɵpipe(23, \"async\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(19, 3, ctx.isLoggedIn));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(21, 5, ctx.isLoggedIn));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(23, 7, !ctx.isLoggedIn));\n    }\n  },\n  dependencies: [i3.NgIf, i1.RouterLinkWithHref, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuYXYtaG9tZS5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,eAAT,QAAgC,MAAhC;;;;;;;;ICiBQC,8BAAgD,CAAhD,EAAgD,GAAhD,EAAgD,EAAhD;IACgEA;IAAOA;;;;;;IAEvEA,8BAAgD,CAAhD,EAAgD,GAAhD,EAAgD,EAAhD;IACyDA;IAAMA;;;;;;;;IAE/DA,8BAAmD,CAAnD,EAAmD,GAAnD,EAAmD,EAAnD;IACgCA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAAmBA;IAAMA;;;;ADhBjE,OAAM,MAAOC,gBAAP,CAAuB;EAG3BC,YAAoBC,MAApB,EAA4CC,WAA5C,EAAoE;IAAhD;IAAwB;IAF5C,kBAAa,IAAIL,eAAJ,CAA6B,KAA7B,CAAb;IACA,gBAAW,IAAIA,eAAJ,CAA4B,KAAKM,QAAL,EAA5B,CAAX;EACyE;;EAEzEC,QAAQ;IACN,KAAKC,UAAL,GAAkB,KAAKH,WAAL,CAAiBI,cAAnC;IACAC,OAAO,CAACC,GAAR,CAAY,KAAKH,UAAjB;EACD;;EAEDI,WAAW;IACT,IAAIC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAJ,EAAwC;MACtC,OAAO,IAAP;IACD;;IACD,OAAO,KAAP;EACD;;EAEDC,MAAM;IACJ,KAAKV,WAAL,CAAiBU,MAAjB,GADI,CACsB;IAC1B;IACA;;IACA,KAAKX,MAAL,CAAYY,aAAZ,CAA0B,GAA1B;EACD;;EAEDP,cAAc;IACZ,OAAO,KAAKD,UAAZ;EACD;;EAEDS,WAAW;IACT,OAAO,KAAKC,QAAZ;EACD;;EAEDZ,QAAQ;IACN,IAAIa,cAAc,GAAGN,YAAY,CAACC,OAAb,CAAqB,UAArB,CAArB;;IACA,IAAID,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,IAAzC,EAA+C;MAC7C,OAAOK,cAAP;IACD,CAFD,MAEO;MACL,OAAO,EAAP;IACD;EACF;;AAvC0B;;;mBAAhBjB,kBAAgBD;AAAA;;;QAAhBC;EAAgBkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV7BvB,+BAAQ,CAAR,EAAQ,KAAR,EAAQ,CAAR,EAAQ,CAAR,EAAQ,GAAR,EAAQ,CAAR;MAE2CA;MAAcA;MACrDA;MACEA;MACFA;MACAA,+BAAsF,CAAtF,EAAsF,IAAtF,EAAsF,CAAtF,EAAsF,CAAtF,EAAsF,IAAtF,EAAsF,CAAtF,EAAsF,CAAtF,EAAsF,GAAtF,EAAsF,CAAtF;MAG6DA;MAAwBA;MAEjFA,+BAAqB,EAArB,EAAqB,GAArB,EAAqB,CAArB;MAC0EA;MAAoBA;MAE9FA,+BAAqB,EAArB,EAAqB,GAArB,EAAqB,CAArB;MACyDA;MAAiBA;MAG5EA;MACEA;;MAGAA;;MAGAA;;MAGFA;;;;MATwBA;MAAAA;MAGAA;MAAAA;MAGAA;MAAAA","names":["BehaviorSubject","i0","NavHomeComponent","constructor","router","UserService","UserName","ngOnInit","isLoggedIn","getLoginStatus","console","log","loginStatus","localStorage","getItem","logout","navigateByUrl","getUserName","userName","userNameString","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\User\\source\\repos\\PropertyDimashAngular\\PropertyDimashAngular\\ClientApp\\src\\app\\home\\nav-home\\nav-home.component.ts","C:\\Users\\User\\source\\repos\\PropertyDimashAngular\\PropertyDimashAngular\\ClientApp\\src\\app\\home\\nav-home\\nav-home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { UserService } from '../../user/user.service';\r\n\n@Component({\n  selector: 'app-nav-home',\n  templateUrl: './nav-home.component.html',\n  styleUrls: ['./nav-home.component.css']\n})\nexport class NavHomeComponent implements OnInit {\n  isLoggedIn = new BehaviorSubject<boolean>(false);\n  userName = new BehaviorSubject<string>(this.UserName());\n  constructor(private router: Router, private UserService: UserService) { }\n\n  ngOnInit(): void {\n    this.isLoggedIn = this.UserService.getLoginStatus;\n    console.log(this.isLoggedIn);\n  }\n\n  loginStatus(): boolean {\n    if (localStorage.getItem('IsLoggedIn')) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\n\n  logout() {\n    this.UserService.logout();//localStorage.removeItem('token');\r\n    //localStorage.removeItem('UserName');\r\n    //localStorage.setItem('IsLoggedIn', \"false\");\r\n    this.router.navigateByUrl('/');\r\n  }\n\n  getLoginStatus() {\n    return this.isLoggedIn;\r\n  }\n\n  getUserName(): any {\n    return this.userName;\r\n  }\n\n  UserName(): string {\n    let userNameString = localStorage.getItem('UserName')!;\n    if (localStorage.getItem('UserName') !== null) {\n      return userNameString;\r\n    } else {\n      return \"\";\r\n    }\r\n  }\n}\n","<header>\n  <nav class=\"navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3\">\n    <a class=\"navbar-brand\" routerLink=\"/\">PropertyDimash</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"navbar-collapse navbar-collapse d-sm-inline-flex justify-content-between\">\n      <ul class=\"navbar-nav flew-grow-1\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link text-dark\" routerLink=\"/properties\">Property and Real estate</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link text-dark\" routerLink=\"/residential-complexes/index\">ResidentialComplexes</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link text-dark\" routerLink=\"/news/index\">News and Property</a>\n        </li>\n      </ul>\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item\" *ngIf=\"isLoggedIn | async\">\n          <a class=\"nav-link text-dark\" routerLink=\"/user/registration\">Sign Up</a>\n        </li>\n        <li class=\"nav-item\" *ngIf=\"isLoggedIn | async\">\n          <a class=\"nav-link text-dark\" routerLink=\"/user/login\">Log In</a>\n        </li>\n        <li class=\"nav-item\" *ngIf=\"(!isLoggedIn) | async\">\n          <a class=\"nav-link text-dark\" (click)=\"logout()\">Logout</a>\n        </li>\n      </ul>\n    </div>\n  </nav>\n</header>\n"]},"metadata":{},"sourceType":"module"}