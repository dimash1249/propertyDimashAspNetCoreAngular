<div class="container">
  <div class="row">
    <div class="col-6">
      <div class="container mt-5">
        <h5>Houses for sale</h5>
        <div>Find houses for sale. View photos, open house information, and property details for nearby real estate</div>
      </div>
    </div>
    <div class="col-6">
      <div class="container" style="width:600px;">
        <div style="float:left">
          <img src="https://i.pinimg.com/564x/f9/ae/cf/f9aecf486dcad3523fda434e9ab4bf33.jpg" style="aspect-ratio:3/2; object-fit: contain; height:300px;" />
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-6">
      <h5 class="text-center">Flats and Houses</h5>
    </div>
    <div class="col-6">
      <a class="btn border w-100" [routerLink]="['/properties/create']">Create property announcement</a>
    </div>
  </div>
  <div class="row mt-5">
    <h5>Flats</h5>
    <hr />
    <div class="row">
      <div class="col-4 mr-1 mb-1" *ngFor="let property of properties">
        <a class="card text-decoration-none text-dark" style="width: 18rem;" [routerLink]="['/properties/', property.id, 'details']">
          <img class="card-img-top" [src]="'data:image/gif;base64,' + property.images[0].image" alt="Card image cap" style="aspect-ratio:3/2; object-fit: contain">
          <div class="card-body">
            <h5 class="card-title">Address: {{property.addressStreet}}, {{property.addressNumber}}</h5>
            <p class="card-text">Property type: {{property.propertyType}}<br />Year of construction: {{property.yearOfBuilding}}<br />Price: {{property.price}}</p>
            <div class="btn btn-link">See Details</div>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="false">
    <h5>Houses</h5>
    <hr />
    <div class="row">
      <div class="col-4 mr-1 mb-1" *ngFor="let property of properties">
        <a class="card" style="width: 18rem;" [routerLink]="['/properties/', property.id, 'details']" *ngIf="property.propertyType == 'House'">
          <img class="card-img-top" src="" alt="Property image" style="aspect-ratio:3/2; object-fit: contain">
          <div class="card-body">
            <h5 class="card-title">Address: {{property.addressStreet}}, {{property.addressNumber}}</h5>
            <p class="card-text">Property type: {{property.typeOfBuilding}}<br />Year of construction: {{property.yearOfBuilding}}<br />Price: {{property.price}}</p>
            <div class="btn btn-link">See Details</div>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="UserService.roleMatch(['Admin', 'Moderator'])">
    <table class="table">
      <thead>
        <tr>
          <th>Type</th>
          <th>Property type</th>
          <th>Price</th>
          <th>Type of building</th>
          <th>Year of building</th>
          <th>Total area</th>
          <th>Address</th>
          <th>User</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let property of properties">
          <td>{{property.type}}</td>
          <td>{{property.propertyType}}</td>
          <td>{{property.price}}</td>
          <td>{{property.typeOfBuilding}}</td>
          <td>{{property.yearOfBuilding}}</td>
          <td>{{property.totalArea}}</td>
          <td>{{property.addressStreet}}, {{property.addressNumber}}</td>
          <td>{{property.user.firstName}} {{property.user.lastName}}</td>
          <td>
            <a [routerLink]="['/properties/', property.id, 'details']" class="btn border">Details</a>
            <button type="button" (click)="deleteProperty(property.id)" class="btn border">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
